---
title: ç”µæ§è§†è§‰ç¯å¢ƒæ­å»º
date: 2023-12-10
path: /blog/ide-setup
---

* TOC
{:toc}

æš‚æ—¶æ— æ³•åœ¨é£ä¹¦æ–‡æ¡£å¤–å±•ç¤ºæ­¤å†…å®¹

# C/C++ç¯å¢ƒæ­å»º

## Windows

### Visual Studio

https://www.bilibili.com/video/BV11R4y1s7jz

## Linux

è¯¦è§ä¸‹æ–¹çš„CMakeå·¥ç¨‹æ­å»ºã€‚

# ARM Keil MDK(ARMå•ç‰‡æœºç¯å¢ƒæ­å»º)

## ä»‹ç»ä»¥åŠç¯å¢ƒæ¨è

1.  Keil MDKæ˜¯ARMå…¬å¸æ——ä¸‹å®˜æ–¹è½¯ä»¶ã€‚æœ€ä¸»æµçš„å•ç‰‡æœºå¼€å‘ç¯å¢ƒIDEï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚

2.  **æ¨èç‰ˆæœ¬ï¼š**

    1.  **æ–°æ‰‹ï¼šæ— è„‘** **ARM** **Keil** **MDK** **5 + CubeMX(æ–°æ‰‹å‰æœŸåªå‡†å…ˆå®‰è£…ARM Keil MDK 5ï¼Œä¸å‡†ç”¨CubeMX)**

    2.  **è€é¸Ÿï¼šæ— è„‘ VScode + CMake + CubeMX**

## Arm Keil MDK 5 + CubeMXã€æ¨èå°é¸Ÿ(æ–°æ‰‹ï¼‰ã€‘

### ç®€ä»‹

1.  æœ€ä¸»æµçš„å¼€å‘ç¯å¢ƒ(å³ä¾¿æœ‰å¾ˆå¤šè‡´å‘½ç¼ºç‚¹)ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚æ–°æ‰‹æ— è„‘ç”¨ï¼Œæ–°æ‰‹å¿…é¡»ç”¨è¿™ä¸ªæ–¹æ¡ˆå¼€å‘STM32ã€‚

2.  ç¼ºç‚¹å¾ˆæ˜æ˜¾ï¼šä¸Šå¤çš„ç•Œé¢ï¼Œä¸Šå¤çš„ä»£ç è¡¥é½ï¼Œä»…æ”¯æŒWindowsï¼Œä¸”åªæœ‰X86çš„32ä½ç‰ˆæœ¬ã€‚

### Windows

https://www.bilibili.com/video/BV18T411r7Yu

æ‰€éœ€æ–‡ä»¶è·å–æ–¹å¼ï¼š

1.  ç¤¾å›¢çš„Uç›˜(ç›´æ¥æ‹·è´)

2.  å®˜ç½‘ï¼š

    1.  MDK5å®˜ç½‘ï¼šhttps://www.keil.com/demo/eval/arm.htm

    2.  MDK5çš„FWå›ºä»¶ä¸‹è½½é“¾æ¥ï¼šhttps://www.keil.arm.com/devices/

    3.  ARMç¼–è¯‘å™¨ä¸‹è½½é“¾æ¥ï¼š

        1.  ARMCC(AC5)å¿…ä¸‹ï¼šhttps://developer.arm.com/downloads/view/ACOMP5?revision=r5p6-07rel1

        2.  ARMCLANG(AC6)ä¸€èˆ¬MDK5æœ€æ–°ç‰ˆéƒ½è‡ªå¸¦ï¼Œ*ä¸ç”¨ä¸‹*ï¼šhttps://developer.arm.com/downloads/view/ACOMPE

        3.  AC5ä¸AC6å¯¹æ¯”(ä¸€èˆ¬ä¸ç”¨çœ‹)ï¼š[https://developer.arm.com/Tools and Software/Arm Compiler for Embedded FuSa#Editions](https://developer.arm.com/Tools%20and%20Software/Arm%20Compiler%20for%20Embedded%20FuSa#Editions)

        ![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image1.webp)

    4.  Keil MDK 5 ç ´è§£æ³¨å†Œæœº(è¯·å…³é—­æ€æ¯’è½¯ä»¶å†ä¸‹è½½)ï¼š [keygen.iso](https://sdutvincirobot.feishu.cn/file/SBbTbvSQ5o3dvExZ49UcGvYen8d) or https://www.duote.com/soft/907739.html

    5.  Java\_JREä¸‹è½½(ä¸€èˆ¬ä¸‹è½½[Windows Offline (64-bit)](https://javadl.oracle.com/webapps/download/AutoDL?BundleId=250129_d8aa705069af427f9b83e66b34f5e380),éœ€è¦å®‰è£…JREæ‰å¯ä»¥æ‰“å¼€CubeMX)ï¼šhttps://www.java.com/en/download/manual.jsp

    6.  CubeMXå®˜ç½‘ï¼šhttps://www.st.com.cn/zh/development-tools/stm32cubemx.html

    7.  æ­£ç‚¹åŸå­é…å¥—èµ„æ–™1(Aç›˜èµ„æ–™F1):http://www.openedv.com/docs/boards/stm32/zdyz\_stm32f103\_warshipV4.html

    8.  æ­£ç‚¹åŸå­é…å¥—èµ„æ–™2(Aç›˜èµ„æ–™F4):http://www.openedv.com/docs/boards/stm32/zdyz\_stm32f407\_explorerV3.html

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image2.webp)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image3.webp)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image4.webp)

## Arm Keil MDK 5 + VScode(Keil Assistant)ã€ä¸æ¨èã€‘

### ç®€ä»‹

1.  è¯¥æ–¹å¼æ˜¯æŠ˜ä¸­æ–¹æ¡ˆï¼Œä»‹äºMDK5å’ŒMDK6ä¹‹é—´çš„æ–¹æ¡ˆï¼Œå¯ä»¥è§„é¿æ‰ä¸€éƒ¨åˆ†MDK5çš„ç¼ºç‚¹ã€‚(ä½†æ˜¯ç”±äºC/C++æ’ä»¶è¿‡äºåƒåœ¾ï¼Œæ‰€ä»¥**ä¸å¤ªæ¨èä½¿ç”¨**)

### Windows

#### é…ç½®æ•™ç¨‹ï¼š

å¿«é€Ÿé…ç½®çš„è§†é¢‘ï¼š

https://www.bilibili.com/video/BV18e4y1H7xX

å¦‚æœé‡åˆ°ä¸€äº›é—®é¢˜ï¼Œè¯·çœ‹ä¸‹æ–¹è¿™ä¸ªè§†é¢‘ï¼š

https://www.bilibili.com/video/BV19V411g7gD/

1.  è¯·å®‰è£…å¥½MDK5ï¼ŒCubeMXï¼ŒVScodeç­‰è½¯ä»¶

2.  å®‰è£…VScodeæ’ä»¶

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image5.webp)

3.  é…ç½®Keil Assistant

    1.  ç‚¹å‡»æ‰©å±•è®¾ç½®

    ![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image6.webp)

    3.  æ‰¾åˆ°MDK5çš„è·¯å¾„

    ![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image7.webp)

    5.  å¤åˆ¶ä¸€ä¸‹è·¯å¾„

    ![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image8.webp)

    7.  å¡«å…¥åˆšæ‰å¤åˆ¶çš„è·¯å¾„

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image9.webp)

4.  ç”¨VScodeæ‰“å¼€MDK5å·¥ç¨‹

    1.  æ‰“å¼€å·¥ç¨‹

    ![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image10.webp)

    ![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image11.webp)

    ![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image12.webp)

5.  ç„¶åå°±å¯ä»¥ç”¨VScodeç¼–è¾‘æºç äº†

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image13.webp)

#### æ³¨æ„äº‹é¡¹ï¼ˆå¿…çœ‹ï¼‰ï¼š

##### é¡»çŸ¥

1.  è¯¥æ–¹å¼ä»…ä»…ä¸º**æŠ˜ä¸­æ–¹æ¡ˆ**ï¼Œæ¯”å•ç”¨MDK5å¥½ç”¨ä¸€ç‚¹ï¼Œä½†è¿œæ²¡æœ‰MDK6å¥½ç”¨ã€‚

2.  VScodeåªè´Ÿè´£ä»£ç ç¼–è¾‘(å»ºè®®åˆ«ç”¨Keil Assistantçš„ç¼–è¯‘ç­‰åŠŸèƒ½)ã€‚

3.  MDK5è´Ÿè´£ç¼–è¯‘ï¼Œä¸‹è½½ï¼Œdebugï¼Œæ·»åŠ æºæ–‡ä»¶ï¼Œå¤´æ–‡ä»¶ç­‰å…¶ä»–ä¸€åˆ‡æ“ä½œã€‚

4.  ä¼˜ç‚¹ï¼šè§£å†³äº†AC6ç¼–è¯‘å™¨çš„go to definitionå¤±æ•ˆçš„é—®é¢˜(AC6å…¨æ˜¯ä¼˜ç‚¹ï¼Œè¿™æ˜¯å”¯ä¸€ç¼ºç‚¹)ï¼›è§£å†³äº†MDK5ä¸Šå¤ç•Œé¢çš„ä¸æŠ¤çœ¼ï¼›è§£å†³äº†MDK5ä»£ç æç¤ºæ‹‰è·¨ï¼›å¯ä»¥ä½¿ç”¨å„ç§VScodeçš„æ’ä»¶æé«˜ç¼–è¾‘æ•ˆç‡ã€‚

5.  ç¼ºç‚¹ï¼šéœ€è¦åŒæ—¶å¼€ç€VScodeå’ŒMDK5ï¼Œå„å¸å…¶èŒï¼Œä¸ç»Ÿä¸€ã€‚C/C++æ’ä»¶çš„ä»£ç æç¤ºè™½æ¯”mdk5å¥½ï¼Œä½†ä¹Ÿæ˜¯è¿‡äºæ‹‰èƒ¯ã€‚(è¿œä¸å¦‚MDK6+Clangd)

##### æ–‡å­—ğŸ¦Ÿç¼–ç æœ‰é—®é¢˜

1.  é—®é¢˜å¦‚ä¸‹ï¼š

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image14.webp)

2.  æ‰‹åŠ¨æ”¹ç¼–ç (ç‚¹å³ä¸‹è§’çš„UTF-8ï¼Œæ¨èç”¨ä¸‹æ–¹çš„æ’ä»¶è§£å†³ï¼Œæ¯”æ‰‹æ”¹ä¾¿æ·)ï¼š

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image15.webp)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image16.webp)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image17.webp)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image18.webp)

3.  æ’ä»¶(VScodeçš„ç‰¹ç‚¹å°±æ˜¯æ’ä»¶å¤šï¼Œä¸ç”¨æ’ä»¶çš„vscodeå¤±å»äº†çµé­‚)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image19.webp)

è¯¥æ’ä»¶ä¼šè‡ªåŠ¨æç¤ºä½ å½“å‰çš„ç¼–ç æœ‰é—®é¢˜ï¼Œè‡ªåŠ¨çŒœæµ‹æ­£ç¡®ç¼–ç ï¼Œç‚¹å‡»yeså°±å¯ä»¥è‡ªåŠ¨ä¿®æ”¹ã€‚

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image20.webp)

##### è¯¯æŠ¥é”™

ä¸ç”¨ç®¡ï¼Œåªè¦MDK5ç¼–è¯‘ä¸æŠ¥é”™å°±è¡Œã€‚

##### æ— æ³•go to definition

(å¦‚æœæœ‰é—®é¢˜æ‰éœ€è¦åšï¼Œæ²¡é—®é¢˜å°±ä¸è¦ç®¡)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image21.webp)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image22.webp)

åœ¨ä¸‹é¢æ¡†ä¸­åŠ ä¸Šï¼š(åŠ å®Œåå¯èƒ½è¿˜ä¼šè¯¯æŠ¥é”™ï¼Œä½†æ˜¯å·²ç»å¯ä»¥æ­£å¸¸go to definitionäº†)

```json
..\**
```

æˆ–è€… å°†Include Pathè¿™ä¸€æ é‡Œçš„ç»å¯¹è·¯å¾„å…¨æ”¹ä¸ºç›¸å¯¹è·¯å¾„(ä¸‹æ–¹åªåˆ—ä¸¾ä¸€éƒ¨åˆ†)ï¼š

```json
..\applications\Inc
..\bsp\boards\Inc
```

## Arm Keil MDK 6 (åŸºäºVScode)ã€æš‚ä¸æ¨èã€‘

### ç®€ä»‹

1.  ä¼˜ç‚¹ï¼šæ”¹å–„äº†MDK5çš„åŸºæœ¬æ‰€æœ‰å·²çŸ¥ç¼ºç‚¹ï¼Œç®€ç›´æ˜¯å¼€å‘è€…ç¦éŸ³ã€‚

2.  ç¼ºç‚¹ï¼šå­¦ä¹ æˆæœ¬è¾ƒé«˜ï¼Œæ²¡æœ‰ä¸€å®šçš„ç”µè„‘å¸¸è¯†é©¾é©­ä¸äº†ã€‚

3.  ç›®å‰æš‚æ—¶è¿˜**ä¸æ˜¯å¾ˆæ¨èå•ç‹¬ä½¿ç”¨**ï¼Œå› ä¸ºå³ä¾¿ä½ ä¼šç”¨ï¼Œé˜Ÿå‹ä¹Ÿä¸ä¸€å®šä¼šç”¨ï¼Œè¿™æ ·å·¥ç¨‹æ— æ³•äº’é€šã€‚ä½†å¦‚æœä½ æœ‰èƒ½åŠ›ï¼Œå°±æ˜¯æƒ³ç”¨MDK6ï¼Œé‚£ç”¨ä¹Ÿæ— å¦¨ï¼Œè‡ªå·±ç”¨ç€é¡ºæ‰‹ä¸ºä¸»ã€‚

4.  ä½†æ˜¯**éå¸¸æ¨èé…åˆä½¿ç”¨**ï¼ŒMDK6é…åˆMDK5ä¸€èµ·ä½¿ç”¨ã€‚ä½¿ç”¨MDK5æ·»åŠ æºæ–‡ä»¶ï¼Œæ·»åŠ å¤´æ–‡ä»¶ç­‰æ“ä½œ(ä¸è¦å¿˜è®°æ·»åŠ å®Œæºæ–‡ä»¶å’Œå¤´æ–‡ä»¶åï¼Œç”¨mdk5ç¼–è¯‘ä¸€ä¸‹)ï¼›ä½¿ç”¨MDK6è½¬åŒ–åˆšæ‰çš„mdk5å·¥ç¨‹ï¼Œè¿›è¡Œæºç ç¼–è¾‘ï¼Œç¼–è¯‘ï¼Œdebugç­‰ç­‰æ“ä½œã€‚(è¿™æ ·æ— è®ºæ˜¯ç”¨mdk5è¿˜æ˜¯mdk6çš„é˜Ÿå‹ï¼Œéƒ½å¯ä»¥æ‰“å¼€ä½ çš„å·¥ç¨‹ç›´æ¥é£Ÿç”¨å•¦)ï¼ˆçœ‹ä¸æ‡‚è¿™æ®µè¯é—®å­¦é•¿ï¼‰

### Windows && Linux

[ARM Keil MDK6ä½¿ç”¨æ•™ç¨‹](/blog/arm-keil-mdk6-tutorial/)

## å‘Šåˆ«Keil MDK : VScode+CMakeç¯å¢ƒéƒ¨ç½²ã€éå¸¸æ¨èè€é¸Ÿã€‘

**(å¼€å‘èµ·æ¥ç›®å‰æ„Ÿè§‰è¿˜æ˜¯æŒºèˆ’æœçš„ï¼Œæ—¥åç”µæ§ç»„ç»„é•¿å¦‚æœè§‰å¾—å¥½ç”¨ï¼Œå¯ä»¥ç»Ÿä¸€ä¸€ä¸‹IDE)**

ä¸»è¦ç°åœ¨æœ‰ä¸‰ä¸ªä½¿ç”¨æ¯”è¾ƒå¹¿çš„ç¼–è¯‘å™¨.

armclang(AC6):ç¼–è¯‘å·¨å¿«,å¼€é”€å·¨å°.(ä¸è®ºæ˜¯ç¼–è¯‘,è¿˜æ˜¯å¼€é”€éƒ½éå¸¸ä¼˜ç§€)

armcc(AC5):ç¼–è¯‘å·¨æ…¢,å¼€é”€å¾ˆå°.(ä»…ä»…åªæ˜¯å¼€é”€å°)

armgcc:ç¼–è¯‘è¾ƒå¿«,å¼€é”€ç•¥å¤§.(ä»…ä»…åªæ˜¯ç¼–è¯‘å¿«)

æ‰€ä»¥è¯´armgccå¹¶æ²¡æœ‰é‚£ä¹ˆå¤§çš„ä¼˜åŠ¿ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥æ¥å—ã€‚

ä¸»è¦æ˜¯ARMCCå’ŒARMCLANGæ˜¯å•†ç”¨ç¼–è¯‘å™¨ï¼Œè€ŒARMGCCæ˜¯å¼€æºç¼–è¯‘å™¨ï¼Œæ‰€ä»¥å¯ä»¥æ­é…CMakeï¼ŒMakefileç­‰ä½¿ç”¨ï¼Œå¯ä»¥æ›´å¥½ç®¡ç†é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥æ”¯æŒå…¨å¹³å°(Windowsï¼ŒLinuxï¼ŒMacOSç­‰ï¼‰

è¯¦ç»†æ•™ç¨‹[STM32+CMakeå·¥ç¨‹éƒ¨ç½²](/blog/linux-stm32-cmake-vscode)

# LinuxåŸºæœ¬é…ç½®

[Vinciæœºå™¨äººé˜ŸLinuxå…¥é—¨æ•™ç¨‹](/blog/linux-tutorial)

# CMakeå·¥ç¨‹æ­å»º

[CMake C/C++ç¼–è¯‘ç¯å¢ƒé…ç½®](https://sdutvincirobot.feishu.cn/wiki/Dosvw46BtiBBLEkTdO4cPOt8nVb)

# OpenCV\_CUDAç¯å¢ƒæ­å»º

## Linux

æ›´æ¨èåœ¨Linuxä¸Šéƒ¨ç½²ï¼Œä¸€äº›æ·±åº¦å­¦ä¹ çš„ä¸œè¥¿ï¼Œåœ¨Linuxä¸Šçš„è¿è¡Œé€Ÿåº¦è¦æ˜æ˜¾**è¿œè¿œé«˜äº**Windowsã€‚

å¦‚æœä½ æ²¡æœ‰ç©ºé—²ç¡¬ç›˜è£…Linuxäº†ï¼Œå¯ä»¥è€ƒè™‘WSL2(åœ¨Windowsä¸Šè¿è¡Œçš„Linuxå­ç³»ç»Ÿ2)ï¼Œè™½æœ‰ä¸€ç‚¹ç‚¹æ€§èƒ½æŸå¤±ï¼Œä½†é€Ÿåº¦ä¹Ÿè¿œè¿œé«˜äºWindowsã€‚

WSL2å®‰è£…æ•™ç¨‹[Vinciæœºå™¨äººé˜ŸLinuxå…¥é—¨æ•™ç¨‹](/blog/linux-tutorial)

**å®ä½“æœºLinux****ï¼****WSL2****ï¼ï¼****Windows**

å…³äºcv\_bridge:æœ€å¥½åœ¨å®‰è£…rosä¹‹å‰ç¼–è¯‘opencvï¼Œè¿™æ ·å®‰è£…rosæ—¶,cv\_bridgeå°±ä¼šè‡ªå·±æŒ‡å‘å·²ç»å®‰è£…è¿‡çš„opencvï¼Œå¹¶ä¸”rosä¸ä¼šå¦å¤–å®‰è£…opencvï¼Œå¦‚æ­¤å°±å¯ä»¥é€šè¿‡find\_packageæŒ‡ä»¤æ‰¾åˆ°ç”µè„‘ä¸Šä»…æœ‰çš„cv\_bridgeå’Œopencvï¼Œä¿è¯ç³»ç»Ÿç¯å¢ƒä¸è¢«æ±¡æŸ“ã€‚å…³äºè¡¥æ•‘åŠæ³•ï¼Œè¯·çœ‹å¸¸è§é—®é¢˜

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image23.webp)

### ä¿è¯æ˜¾å¡æ­£å¸¸

**è¯·ç¡®ä¿ è‹±ä¼Ÿè¾¾é©±åŠ¨ã€CUDAã€cuDNN å…¨éƒ¨å®‰è£…æˆåŠŸå¹¶ä¸”ç‰ˆæœ¬æ­£ç¡®ã€‚**

**(å®‰è£…é©±åŠ¨ã€CUDAã€cuDNNæ•™ç¨‹:**[Vinciæœºå™¨äººé˜ŸLinuxå…¥é—¨æ•™ç¨‹](/blog/linux-tutorial)**)**

```bash

# æ£€æŸ¥æ˜¾å¡é©±åŠ¨
nvidia-smi

# éªŒè¯CUDAæ˜¯å¦å®‰è£…æˆåŠŸ
nvcc -V

# æ£€æŸ¥cuDNNç‰ˆæœ¬å‘½ä»¤(ä»…ä»…åªæ˜¯æŸ¥äº†å¤´æ–‡ä»¶)
cat /usr/local/cuda/include/cudnn_version.h | grep CUDNN_MAJOR -A 2
```

å‡ºç°ä¸‹å›¾è¿™æ ·çš„ï¼Œåˆ™ä½ æ˜¯æœ‰è‹±ä¼Ÿè¾¾é©±åŠ¨ï¼ŒCUDAä»¥åŠcuDNNçš„

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image24.webp)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image25.webp)

### å®‰è£…ä¾èµ–é¡¹

```bash

# Debianç³»ç³»ç»Ÿ
sudo apt install -y libcurl4 build-essential pkg-config cmake-gui \
    libopenblas-dev libeigen3-dev libtbb-dev \
    libavcodec-dev libavformat-dev \
    libgstreamer-plugins-base1.0-dev libgstreamer1.0-dev \
    libswscale-dev libgtk-3-dev libpng-dev libjpeg-dev \
    libcanberra-gtk-module libcanberra-gtk3-module libv4l-dev python3-dev python3-numpy

# RHELçº¢å¸½ç³»ç³»ç»Ÿ
bash -c 'sudo dnf install https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm'
sudo dnf install -y curl gcc gcc-c++ make cmake cmake-gui \
    openblas-devel eigen3-devel tbb-devel \
    ffmpeg-libs ffmpeg-devel \
    gstreamer1-plugins-base-devel gstreamer1-devel \
    gtk3-devel libpng-devel libjpeg-devel \
    libc=aanberra-gtk3 libcanberra-devel v4l-utils v4l2loopback openexr-devel python3-dev python3-numpy

```

ä¸‹æ–¹è¡¨æ ¼æ˜¯è¿™äº›ä¾èµ–çš„è¯´æ˜

| ç”Ÿæˆ OpenCV çš„ä¸»è¦ä¾èµ–é¡¹ |
|:---|
| åç§° | apt package åç§° | åŠŸèƒ½ |
| ç¼–è¯‘ç³»ç»Ÿ | build-essential cmake cmake-gui pkg-config | ç”Ÿæˆ OpenCV |
| å›¾åƒåº“ | libpng-dev libjpeg-dev | æä¾›å„ç±»å›¾åƒæ ¼å¼çš„ç¼–è§£ç  |
| OpenBLAS | libopenblas-dev | åˆ©ç”¨ CPU å‘é‡è¿ç®—æŒ‡ä»¤ä¸ºå¤§é‡ç®—æ³•æä¾›åŠ é€Ÿã€‚ |
| Eigen3 | libeigen3-dev | æä¾›çº¿æ€§ä»£æ•°ç›¸å…³ç®—æ³•æ”¯æŒ |
| Intel TBB | libtbb-dev | åœ¨ Intel CPU ä¸Šæä¾›é«˜æ€§èƒ½å¹¶å‘è®¡ç®—æ”¯æŒ |
| FFMPEG | libavcodec-dev libavformat-dev libswscale-dev | æä¾›è§†é¢‘ç¼–è§£ç èƒ½åŠ› |
| GStreamer | libgstreamer-plugins-base1.0-dev libgstreamer1.0-dev | æä¾›æµåª’ä½“å¤„ç†èƒ½åŠ› |
| GTK | libgtk-3-dev libcanberra-gtk-module libcanberra-gtk3-module | å›¾å½¢åŒ–ç”¨æˆ·ç•Œé¢ |
| Video4Linux | libv4l-dev | Linuxæ‘„åƒå¤´åº“ |

### ä¸‹è½½OpenCVæºç 

https://github.com/opencv/opencv

https://github.com/opencv/opencv\_contrib

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image26.webp)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image27.webp)

```bash

# åˆ›å»ºæ–‡ä»¶å¤¹å­˜æ”¾æºç 
mkdir -p ooppccvv
cd ooppccvv
```

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image28.webp)

```bash

# è§£å‹æºç 
unzip ./opencv-4.11.0.zip
unzip ./opencv_contrib-4.11.0.zip
```

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image29.webp)

ç¡®è®¤ä¸€ä¸‹ opencv ç›®å½•å’Œ opencv-contrib ç›®å½•ä½äºç›¸åŒçš„çˆ¶ç›®å½•å†…ï¼Œå¹¶ç¡®è®¤è¿™ä¸¤ä¸ªç›®å½•ä¸‹éƒ½å­˜åœ¨ modules å­ç›®å½•ï¼š**(ä¸€èˆ¬ä¸ç”¨ç¡®è®¤ï¼Œåªè¦ä½ ç…§ç€æ•²æˆ‘ä¸Šæ–¹çš„å‘½ä»¤ï¼Œä¸€å®šæ²¡é—®é¢˜)**

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image30.webp)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image31.webp)

### CMakeç¼–è¯‘

#### å‡†å¤‡å·¥ä½œ

```bash

# åˆ›å»ºbuildæ–‡ä»¶å¤¹ç”¨äºè£…CMakeç”Ÿæˆçš„å†…å®¹:
cd opencv-4.11.0
mkdir -p build && cd build
```

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image32.webp)

OpenCVä½¿ç”¨CMakeä¸Makefileè¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘é€‰é¡¹è¾ƒå¤šï¼Œè¯¦è§ï¼ˆä¹Ÿå¯ä»¥ä¸çœ‹ï¼Œä¸è¿‡ä¸åŒç‰ˆæœ¬æœ‰äº›CMakeç¼–è¯‘é€‰é¡¹æ˜¯ä¸åŒçš„ï¼‰ï¼š

https://docs.opencv.org/4.10.0/db/d05/tutorial\_config\_reference.html

ä¸‹æ–¹è¢«åˆ’æ‰çš„æ˜¯åœ¨OpenCV4.11.0ä¸­å·²ç»ä¸å¤å­˜åœ¨çš„å‚æ•°ï¼Œä½†æ˜¯å¯èƒ½åœ¨å…¶ä»–ç‰ˆæœ¬çš„OpenCVä¸­ä»æœ‰æ•ˆï¼Œè¯·è‡ªè¡Œç”¨`CMake-LAH`(ä¸æ¨è)å‘½ä»¤æˆ–è€…`CMake-gui`(æ¨è)æŸ¥çœ‹ã€‚

| OpenCV4.11.0 CMakeå¸¸ç”¨ç¼–è¯‘é€‰é¡¹è¡¨ä¸€è§ˆ |
|:---|
| åºå· | CMakeå‚æ•°å | å‚æ•°å€¼ | ä½œç”¨ |
| 1 | CMAKE_BUILD_TYPE | Release | ä¸åœ¨è¡Œæˆçš„åº“æ–‡ä»¶ä¸­åŒ…å«è°ƒè¯•ä¿¡æ¯ï¼Œå¹¶è¿›è¡Œé€Ÿåº¦ä¼˜åŒ–ã€‚å¦‚æœæŒ‡å®šä¸º Debug ï¼Œå°±å¯ä»¥åœ¨ Debug è¿‡ç¨‹ä¸­è¿›å…¥ OpenCV å†…éƒ¨çš„ä»£ç ï¼Œä½†è¿è¡Œé€Ÿåº¦ä¼šç•¥å¾®ä¸‹é™ã€‚ |
| 2 | CMAKE_INSTALL_PREFIX | /usr/local | æŒ‡å®š OpenCV ç”Ÿæˆçš„åº“æ–‡ä»¶åœ¨ç³»ç»Ÿä¸­çš„å®‰è£…è·¯å¾„ã€‚ |
| 3 | CMAKE_VERBOSE_MAKEFILE | ON | åŠ¡å¿…å¼€å¯ï¼Œä»¥ä¾¿äºå‘ç°ç¼–è¯‘ä¸­å‡ºç°çš„é—®é¢˜ã€‚ |
| 4 | BUILD_SHARED_LIBS | ON | æˆå…±äº«åº“ï¼ˆ.soï¼‰ï¼Œå¦‚æœç½®ä¸º OFF åˆ™åªä¼šç”Ÿæˆé™æ€åº“ï¼ˆ.aï¼‰ |
| 5 | OPENCV_EXTRA_MODULES_PATH | <Modulesè·¯å¾„> | æŒ‰ä¹‹å‰çš„æè¿°ï¼Œåº”ä¸º ã€Œ../../opencv_contrib-4.10.0/modulesã€ã€‚å¦‚æœä½¿ç”¨CMake-GUIåˆ™åº”ä¸ºã€Œ../opencv_contrib-4.10.0/modulesã€ã€‚å¯ä»¥ç”¨ ls å‘½ä»¤ç¡®è®¤ç›¸å¯¹è·¯å¾„æ˜¯å¦å­˜åœ¨ã€‚ |
| 6 | OPENCV_ENABLE_NONFREE | ON | å¦‚æœç½®ä¸ºOFFï¼Œä¸€äº›åŒ…å«ä¸“åˆ©ä¿æŠ¤ç®—æ³•çš„å‡½æ•°å°†ä¸ä¼šç”Ÿæˆã€‚ |
| 7 | ENABLE_CXX11 | ON | æ”¯æŒ C++11 ä»¥ä¸Šçš„è¯­æ³•å’Œ STL åº“ã€‚ |
| 8 | BUILD_TESTS | OFF | å¯ä»¥å…³é—­ç”Ÿæˆåçš„è‡ªæˆ‘ TEST ï¼Œå¤§å¤šæ•°æƒ…å†µæ²¡æœ‰å¿…è¦å¼€å¯ï¼Œå¯å¤§è¾ç¼©çŸ­ç”Ÿæˆæ—¶é—´ã€‚ä½†å¦‚æœæ€€ç–‘ç”Ÿæˆçš„ OpenCV åº“æœ‰é—®é¢˜ï¼Œåˆ™å°½é‡å¼€å¯ä¸€ä¸‹ï¼Œå¯ä»¥è¿›è¡Œè‡ªæµ‹ã€‚ |
| 9 | BUILD_PERF_TESTS | OFF |
| 10 | OPENCV_GENERATE_PKGCONFIG | ON | å»ºè®®å¼€å¯ï¼Œä¾¿äº C++ ç¨‹åºé€šè¿‡ pkg-config æ¥å¼•ç”¨ OpenCV åº“ã€‚ |
| 11 | WITH_GTK | ON | ç¼–è¯‘å›¾å½¢ç•Œé¢ï¼Œcv2.showä¼šç”¨åˆ° |
| 12 | CUDA_ARCH_BIN | 7.2;8.6;8.7 | è¿™ä¿©ç©ºéœ€è¦å¡«æ˜¾å¡ç®—åŠ›ï¼Œä¸‹é¢ä¼šæœ‰æ•™ç¨‹æ•™ä½ æ€ä¹ˆæŸ¥ä½ çš„æ˜¾å¡ç®—åŠ›ã€‚BINæŒ‡å®šä¸ºå“ªäº› çœŸå® GPU æ¶æ„ ç”ŸæˆäºŒè¿›åˆ¶ä»£ç ï¼ˆSASSï¼‰ï¼Œé€šå¸¸ä½ è¦ç¼–è¯‘å‡ å¼ ä¸åŒæ˜¾å¡ï¼Œå°±è¦ç”¨åˆ†å·åˆ†éš”å¼€è¿™äº›æ˜¾å¡å¯¹åº”çš„ç®—åŠ›ï¼ˆå¦‚ "7.2;8.6;8.7" ï¼‰ã€‚PTXæŒ‡å®šä¸ºå“ªäº› è™šæ‹Ÿæ¶æ„ ç”Ÿæˆ PTX ä¸­é—´ä»£ç ï¼ˆç”¨äºæœªæ¥ GPU çš„ JIT ç¼–è¯‘ï¼‰ ã€‚é€šå¸¸åªéœ€è®¾ç½®BINçš„æœ€é«˜ç®—åŠ›ï¼ˆå¦‚ "8.7" ï¼‰ã€‚ |
| 13 | CUDA_ARCH_PTX | 8.7 |
| 14 | WITH_CUDA | ON | å¦‚æœç³»ç»Ÿæ­£ç¡®å®‰è£…äº† CUDA å¹¶å¸Œæœ› OpenCV å¯ç”¨ CUDA æ”¯æŒï¼Œè¿™å››ä¸ªé€‰é¡¹éƒ½è¦æ‰“å¼€ã€‚ |
| 15 | ENABLE_FAST_MATH | ON | æ”¯æŒmathå¿«é€Ÿè®¡ç®— |
| 16 | CUDA_FAST_MATH | ON | cudaçš„mathå¿«é€Ÿè®¡ç®— |
| 17 | WITH_CUBLAS | ON | å¼€å¯CUBLAS |
| 18 | WITH_CUDNN | ON | å¸Œæœ›OpenCVå¯ç”¨cuDNNæ”¯æŒï¼Œè¿™ä¸‰é¡¹è¦æ‰“å¼€ |
| 19 | WITH_DNN | ON | å¼€å¯DNN |
| 20 | OPENCV_DNN_CUDA | ON | å¯ç”¨CUDAï¼Œå¿…é¡»å®‰è£…CUDAã€CUBLASå’ŒCUDNNã€‚ |
| 21 | CUDA_HOST_COMPILER | /usr/bin/gcc-13 | (å¯é€‰)å¦‚æœä½ æ˜¯gcc14åŠä»¥ä¸Šï¼Œè¯·å®‰è£…ä¸€ä¸ªgcc13åŠä»¥ä¸‹ï¼Œæ”¹ç”¨gcc13åŠä»¥ä¸‹ç¼–è¯‘CUDA |
| 22 | WITH_IPP | ON | è¿™å››ä¸ªé€‰é¡¹æ§åˆ¶ OpenCV å¦‚ä½•è¿›è¡Œå¹¶å‘è¿ç®—ï¼Œé»˜è®¤éƒ½æ˜¯ ONï¼Œä½†å¦‚æœæœ‰éœ€è¦ç”Ÿæˆä¸€ä¸ªç»å¯¹å•çº¿ç¨‹è¿è¡Œçš„ OpenCV ï¼Œè¯·å°†è¿™å‡ ä¸ªé€‰é¡¹å‡ç½®ä¸º OFF ã€‚ |
| 23 | WITH_TBB | ON |  |
| 24 | WITH_OPENMP | ON |  |
| 25 | WITH_PTHREADS_PF | ON |  |
| 26 | BUILD_opencv_python3 | ON | OpenCV æä¾› Python3 æ”¯æŒã€‚åœ¨OpenCV4çš„æŸä¸ªç‰ˆæœ¬å·²ç»é»˜è®¤æ‰“å¼€ã€‚ |
| 27 | OPENCV_PYTHON3_VERSION | Python3ç‰ˆæœ¬ï¼Œå¦‚3.12 | å¡«ä½ çš„python3ç‰ˆæœ¬ï¼Œæ¯”å¦‚Fedora42æ˜¯Python3.13ï¼Œå°±å¡«3.13 |
| 28 | PYTHON3_EXECUTABLE | Python3è·¯å¾„ | Python3 C++æ¥å£åº“çš„è·¯å¾„/usr/bin/python3 |
| 29 | PYTHON3_LIBRARY | Libè·¯å¾„ | Python3 C++æ¥å£åº“çš„è·¯å¾„ |
| 30 | PYTHON3_NUMPY_INCLUDE_DIRS | çŸ©é˜µåº“Headè·¯å¾„ | Python3 çŸ©é˜µåº“å¤´æ–‡ä»¶çš„è·¯å¾„ |
| 31 | PYTHON3_INCLUDE_DIR | Headè·¯å¾„ | Python3 C++å¤´æ–‡ä»¶çš„è·¯å¾„ |
| 32 | PYTHON3_PACKAGES_PATH | Pathè·¯å¾„ | OpenCV çš„ Python3 åŒ…å®‰è£…çš„è·¯å¾„ |
| 33 | WITH_OPENGL | ON | å¯ç”¨OPENGL |
|  |  |  |  |

1.  æŸ¥è¯¢GPU Compute Capability(CUDA\_ARCH\_BINå‚æ•°):

https://developer.nvidia.com/cuda-gpus#collapseOne

è¿›å…¥ç½‘ç«™åï¼Œ

GeForceä»£è¡¨è‹±ä¼Ÿè¾¾æ¸¸æˆç³»åˆ—æ˜¾å¡ï¼Œå¸¸è§çš„æœ‰GTX1080ï¼ŒRTX3080ï¼ŒRTX 4080ç­‰ã€‚

Jetsonä»£è¡¨å·¥æ§æœºåºåˆ—æ˜¾å¡ã€‚

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image33.webp)

æˆ‘æ˜¯3060Laptop(ç¬”è®°æœ¬ç§»åŠ¨ç«¯æ˜¾å¡ï¼Œæ‰€ä»¥æ‰¾å³åˆ—çš„Notebookä¸‹æ–¹çš„3060)

å¦‚æœä½ æ˜¯3060(å°å¼æ¡Œé¢ç«¯ï¼Œåˆ™è¦æ‰¾å·¦åˆ—çš„3060)

é€šè¿‡å›¾å¾—çŸ¥ï¼Œæˆ‘çš„æ˜¾å¡ç®—åŠ›(GPU Compute Capability)ä¸º8.6ï¼Œæ‰€ä»¥æˆ‘çš„CMakeçš„CUDA\_ARCH\_BINå‚æ•°ä¸º8.6ã€‚

CUDA\_ARCH\_PTXä¸ºBINçš„æœ€é«˜å€¼ï¼Œæˆ‘åªè®¾ç½®äº†ä¸€ä¸ªBINï¼Œæ‰€ä»¥æœ€é«˜å€¼å°±æ˜¯è¿™ä¸ª8.6ã€‚(åªæœ‰ä½ è¦ç»™ç”µè„‘æ›´æ¢æ˜¾å¡çš„æƒ…å†µä¸‹ï¼Œæ‰è¦ç»™BINè®¾ç½®å¤šä¸ªå€¼ï¼Œå°±éœ€è¦æŠŠä½ è¦ç”¨çš„æ˜¾å¡çš„å€¼å…¨åŒ…å«åœ¨BINä¸­ï¼Œè€ŒPTXåªéœ€è¦BINçš„æœ€é«˜å€¼å³å¯)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image34.webp)

2.  Python3çš„è·¯å¾„æŸ¥è¯¢ï¼Œè¯·åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨ï¼Œæ£€æŸ¥æ˜¯å¦éƒ½æœ‰ç»“æœç”Ÿæˆï¼Œç¡®ä¿æ‰“å°å‡ºçš„ç»“æœç¬¦åˆé¢„æœŸåå†è¿›è¡Œä¸‹é¢çš„CMakeç”Ÿæˆæ“ä½œã€‚(ä¸éœ€è¦è®°ä½è·¯å¾„)

å½“ç„¶ä½ ä¹Ÿå¯ä»¥ç”¨å‘½ä»¤åé¦ˆå‡ºæ¥çš„è·¯å¾„å¤åˆ¶å‡ºæ¥ï¼Œè¿™ä¸ªè·¯å¾„å°±æ˜¯å‚æ•°çš„å€¼ã€‚

```bash

# Python3 C++æ¥å£åº“çš„è·¯å¾„
python3 -c "import sysconfig; from os.path import join; print(join(sysconfig.get_config_var('LIBDIR'), sysconfig.get_config_var('LDLIBRARY')))"

# Python3 çŸ©é˜µåº“å¤´æ–‡ä»¶çš„è·¯å¾„
python3 -c "import numpy; print(numpy.get_include())"

# OpenCV çš„ Python3 åŒ…å®‰è£…çš„è·¯å¾„ã€‚
python3 -c "import sysconfig; print(sysconfig.get_path('purelib'))"

# Python3 å¤´æ–‡ä»¶çš„è·¯å¾„
python3 -c "import sysconfig; print(sysconfig.get_path('include'))"
```

#### CMakeç¼–è¯‘**(ä¸¤ç§æ–¹å¼é€‰å…¶ä¸€)**

å› ä¸ºç”µè„‘é…ç½®çš„ä¸åŒï¼Œæ¯ä¸ªç”µè„‘çš„ç¡¬ä»¶ï¼Œè½¯ä»¶(ä¾èµ–åŒ…)ç­‰éƒ½ä¸åŒï¼Œæ‰€ä»¥æˆ‘èƒ½è·‘èµ·æ¥çš„ä½ ä¸ä¸€å®šä¸€ä¸‹å°±èƒ½è·‘æˆåŠŸã€‚

ä¸€èˆ¬å¾ˆéš¾é£è°ƒé›¨é¡ºï¼Œå¦‚æœæœ‰é—®é¢˜åŠæ—¶å»ç™¾åº¦ï¼Œè°·æ­Œï¼ŒOpenCVè®ºå›ä¸Šæ‰¾ç­”æ¡ˆã€‚

è®ºå›:https://forum.opencv.org/

##### CMakeç»ˆç«¯å‘½ä»¤æ–¹å¼(ä¸å»ºè®®ï¼Œæ›´å»ºè®®ç”¨GUIçš„æ–¹å¼ï¼Œè¿™ç§ç»ˆç«¯çš„æ–¹å¼å®¹æ˜“å‡ºå¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜)

```bash
cmake .. -DCMAKE_BUILD_TYPE=Release \
        -DCMAKE_INSTALL_PREFIX=/usr/local \
        -DBUILD_SHARED_LIBS=ON \
        -DOPENCV_EXTRA_MODULES_PATH=../../opencv_contrib-4.11.0/modules \
        -DOPENCV_ENABLE_NONFREE=ON \
        -DBUILD_TESTS=ON \
        -DBUILD_PERF_TESTS=ON \
        -DOPENCV_GENERATE_PKGCONFIG=ON \
        -DWITH_GTK=ON \
        -DWITH_CUDA=ON \
        -DENABLE_FAST_MATH=ON \
        -DCUDA_FAST_MATH=ON \
        -DWITH_CUBLAS=ON \
        -DCUDA_ARCH_BIN="8.6" \
        -DCUDA_ARCH_PTX="8.6" \
        -DCUDA_HOST_COMPILER=/usr/bin/gcc-13 \
        -DWITH_CUDNN=ON \
        -DOPENCV_DNN_CUDA=ON \
        -DWITH_IPP=ON \
        -DWITH_TBB=ON \
        -DWITH_OPENMP=ON \
        -DWITH_PTHREADS_PF=ON \
        -DOPENCV_PYTHON3_VERSION=3.12 \
        -DPYTHON3_EXECUTABLE=/usr/bin/python3 \
        -DPYTHON3_LIBRARY=$(python3 -c "import sysconfig; from os.path import join; print(join(sysconfig.get_config_var('LIBDIR'), sysconfig.get_config_var('LDLIBRARY')))") \
        -DPYTHON3_NUMPY_INCLUDE_DIRS=$(python3 -c "import numpy; print(numpy.get_include())") \
        -DPYTHON3_PACKAGES_PATH=$(python3 -c "import sysconfig; print(sysconfig.get_path('purelib'))") \
        -DPYTHON3_INCLUDE_DIR=$(python3 -c "import sysconfig; print(sysconfig.get_path('include'))") \
        -DWITH_OPENGL=ON

```

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image35.webp)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image36.webp)

ä½ å¯ä»¥æ ¹æ®ä½ çš„éœ€è¦ï¼ŒæŒ‰ç…§ä¹‹å‰çš„è¯´æ˜æ¥è‡ªè¡Œå¢å‡æˆ–ä¿®æ”¹è¿™äº›é€‰é¡¹ã€‚å¦‚æœ cmake å‘½ä»¤å‡ºé”™ï¼Œå¾€å¾€æ˜¯ç¼ºå°‘ä¾èµ–é¡¹æˆ–é…ç½®çš„ç”Ÿæˆé€‰é¡¹ä¸æ­£ç¡®æ‰€è‡´ï¼Œå¯æ ¹æ®æç¤ºä¿¡æ¯æ¥æ£€æŸ¥ã€‚å¦‚æœæ‰§è¡ŒæˆåŠŸï¼Œå°±å¯ä»¥è¿›è¡Œç¼–è¯‘ï¼ˆè¯·çœ‹Makefilesç¼–è¯‘éƒ¨åˆ†ï¼‰äº†ï¼š

##### CMake-GUIæ–¹å¼(æ¨èï¼Œä¸è¿‡å¤ªéº»çƒ¦ï¼Œä½†æ˜¯é—®é¢˜å°‘ï¼Œä¸”æ›´å¥½æ‰¾é—®é¢˜)

1.  æ‰“å¼€CMake-GUIï¼š

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image37.webp)

é…ç½®ä¸€ä¸‹è¿™ä¿©è·¯å¾„

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image38.webp)

ç‚¹å‡»å·¦ä¸‹è§’é…ç½®ï¼Œé€‰æ‹©Makefiles

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image39.webp)

2.  é…ç½®å‚æ•°

æ ¹æ®ä¸Šæ–¹è¡¨æ ¼å»æŒ¨ä¸ªå‚æ•°è¿›è¡Œé…ç½®ã€‚å¡«å®Œæ‰€æœ‰é€‰é¡¹åï¼Œé…ç½®å®Œæ¯•ç‚¹Configure.

åœ¨é…ç½®å‚æ•°é‡åˆ°é—®é¢˜ï¼Œè¯·çœ‹ä¸‹é¢çš„å¸¸è§é—®é¢˜ç« èŠ‚ã€‚

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image40.webp)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image41.webp)

ä½ å¯ä»¥æ ¹æ®ä½ çš„éœ€è¦ï¼ŒæŒ‰ç…§ä¹‹å‰çš„è¯´æ˜æ¥è‡ªè¡Œå¢å‡æˆ–ä¿®æ”¹è¿™äº›é€‰é¡¹ã€‚å¦‚æœ cmake å‘½ä»¤å‡ºé”™ï¼Œå¾€å¾€æ˜¯ç¼ºå°‘ä¾èµ–é¡¹æˆ–é…ç½®çš„ç”Ÿæˆé€‰é¡¹ä¸æ­£ç¡®æ‰€è‡´ï¼Œå¯æ ¹æ®æç¤ºä¿¡æ¯æ¥æ£€æŸ¥ã€‚å¦‚æœæ‰§è¡ŒæˆåŠŸï¼Œå°±å¯ä»¥è¿›è¡Œç¼–è¯‘(è¿›è¡ŒMakefilesç¼–è¯‘)äº†ï¼š

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image42.webp)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image43.webp)

##### å¸¸è§é—®é¢˜

###### æ— CUDAé€‰é¡¹

æœ‰æ—¶å€™CMake-GUIåªä¼šåœ¨ç¼–è¯‘åæ‰æ˜¾ç¤ºæŸäº›å‚æ•°(æ¯”å¦‚åªæœ‰ç¼–è¯‘è¿‡WITH\_CUDAæ‰ä¼šæ˜¾ç¤ºCUDAç›¸å…³çš„é€‰é¡¹)ã€‚

æ‰€ä»¥ä½ éœ€è¦å…ˆæŠŠWITH\_CUDAæ‰“ä¸Šå‹¾ï¼Œå†ç‚¹å·¦ä¸‹è§’çš„config,è¿™æ ·æ‰ä¼šå‡ºç°å’ŒCUDAç›¸å…³çš„é€‰é¡¹ï¼Œå†æŠŠé‚£äº›é€‰é¡¹é…ç½®ä¸€ä¸‹ã€‚

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image44.webp)

###### æ¨¡ç»„çš„è·¯å¾„ä¸å‘½ä»¤è¡Œæ–¹å¼ä¸åŒ

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªç›¸å¯¹è·¯å¾„ä¸ç›´æ¥æ•²CMakeå‘½ä»¤é…ç½®çš„å‚æ•°ä¸åŒï¼Œè¿™é‡Œæ˜¯`../opencv_contrib-4.11.0/modules`ã€‚

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image45.webp)

###### OPENCV\_PYTHON3\_VERSIONå‚æ•°çš„ç±»å‹é”™äº†

åœ¨cmake-guiä¸­ä¸çŸ¥é“ä¸ºä½•OPENCV\_PYTHON3\_VERSIONå‚æ•°çš„ç±»å‹æˆäº†å¸ƒå°”å‹ã€‚

éœ€è¦æ‰‹åŠ¨æ”¹ä¸ºå­—ç¬¦ä¸²å‹æ•°æ®ã€‚

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image46.webp)

ä¸Šå›¾å°±æ˜¯é—®é¢˜æ‰€åœ¨ï¼Œè¿™é‡Œç«Ÿç„¶æ˜¯ä¸ªå¸ƒå°”å€¼ã€‚

å…ˆåˆ æ‰è¯¥é€‰é¡¹ã€‚

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image47.webp)

å†é‡æ–°æ·»åŠ ä¸€ä¸ªè¯¥é€‰é¡¹ã€‚

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image48.webp)

```Dockerfile

# æŸ¥çœ‹python3ç‰ˆæœ¬
python3 --version
```

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image49.webp)

åœ¨ä¸‹é¢å¡«ä¸Š3.12ï¼Œåé¢çš„å°ç‰ˆæœ¬å·ä¸ç”¨å¡«ã€‚

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image50.webp)

### Makefilesç¼–è¯‘

åé¢ -j å‚æ•°çš„æ„ä¹‰æ˜¯ä½¿ç”¨æ‰€æœ‰ CPU å‚ä¸ç¼–è¯‘ã€‚å¦‚æœå¯ç”¨äº† CUDA ï¼Œç”Ÿæˆè¿‡ç¨‹ä¼šæ¯”è¾ƒæ…¢ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚ç¼–è¯‘æœŸé—´å¦‚æœå‡ºé”™å¾€å¾€æ˜¯ç¼–è¯‘å™¨ã€ç³»ç»Ÿåº“ã€ä¸‰æ–¹åº“çš„ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜ï¼Œæ‰¾é—®é¢˜çš„éš¾åº¦åå¤§ã€‚

**è¯·åœ¨buildç›®å½•ä¸‹è¿›è¡Œä¸‹æ–¹å‘½ä»¤ã€‚**

```bash

# å†…å­˜å°äº16GB
make all

# å†…å­˜ç­‰äº16GB
make all -j$(( $(grep -c ^processor /proc/cpuinfo) / 2 ))

# å†…å­˜å¤§äº32GB
make all -j$(grep -c ^processor /proc/cpuinfo)

# æˆ–è€…è‡ªè¡Œè§„å®šçº¿ç¨‹æ•°é‡ï¼ˆæ¯”å¦‚16çº¿ç¨‹ï¼‰
make all -j16
```

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image51.webp)

å…¨æ ¸è·‘ç¼–è¯‘

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image52.webp)

å¦‚å›¾æ‰æ˜¯çœŸç¼–è¯‘æˆåŠŸï¼Œæ²¡æœ‰é”™è¯¯ã€‚

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image53.webp)

ç”Ÿæˆç»“æŸåï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š

`$(grep -c ^processor /proc/cpuinfo)`å˜é‡ä¸ºCPUçº¿ç¨‹çš„æ•°é‡ã€‚(è¿™æ ·å¯ä»¥ä½¿CPUå…¨åŠ›å¤šçº¿ç¨‹è¿›è¡Œç¼–è¯‘)

```bash

# å†…å­˜å°äº16GB
sudo make install

# å†…å­˜ç­‰äº16GB
sudo make install -j$(( $(grep -c ^processor /proc/cpuinfo) / 2 ))

# å†…å­˜å¤§äº32GB
sudo make install -j$(grep -c ^processor /proc/cpuinfo)

# æˆ–è€…è‡ªè¡Œè§„å®šçº¿ç¨‹æ•°é‡ï¼ˆæ¯”å¦‚16çº¿ç¨‹ï¼‰
sudo make install -j16
```

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image54.webp)

æ— æŠ¥é”™åˆ™å®‰è£…æˆåŠŸ

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image55.webp)

### é…ç½®OpenCVç¯å¢ƒå˜é‡ENV

1.  å¯èƒ½éœ€è¦é…ç½®ä¸€ä¸‹libçš„è·¯å¾„ï¼š

```bash
vim ~/.bashrc
```

åœ¨æœ€åº•ä¸‹åŠ ä¸Šä¸‹æ–¹çš„å†…å®¹

```bash

# è®¾ç½® LD_LIBRARY_PATH
export LD_LIBRARY_PATH="/usr/local/lib:$LD_LIBRARY_PATH"
```

2.  å…¶ä»–çš„ä¸ç”¨é…ç½®ï¼Œå¼€ç®±å³ç”¨(å¯ä»¥é…ç½®ä¸€ä¸‹pkg-config)ï¼Œ

æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼š

```bash
opencv_version
```

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image56.webp)

### æµ‹è¯•OpenCV\_CUDA(CMakeç¨‹åºç¤ºä¾‹)

1.  CMakeæ˜¯ä¸€å®šè¦æŒæ¡çš„ï¼Œè¯·çœ‹ä¸‹æ–¹æ–‡æ¡£å­¦ä¹ :[CMake C/C++ç¼–è¯‘ç¯å¢ƒé…ç½®](https://sdutvincirobot.feishu.cn/wiki/Dosvw46BtiBBLEkTdO4cPOt8nVb)

2.  å¦‚å›¾æµ‹è¯•å®Œæ¯•ï¼š

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image57.webp)

3.  ä¸‹æ–¹æ˜¯å®ä¾‹å·¥ç¨‹æˆ‘å·²ä¸Šä¼ è‡³GitHubä¾›å¤§å®¶ä¸‹è½½ï¼š(ä¸‹æ–¹ç¤ºä¾‹å·¥ç¨‹é‡Œçš„CMakeæ¨¡æ¿ä¸æ˜¯æœ€æ–°çš„ï¼Œå¯èƒ½ä¸å¦‚æ–°ç‰ˆåŠŸèƒ½é½å…¨ï¼Œä¸å¦‚æ–°ç‰ˆå„æ–¹é¢è®¾è®¡çš„æ›´å‘¨åˆ°ï¼Œå¦‚æœæƒ³æ‰¾æœ€æ–°ç‰ˆæ¨¡æ¿è¯·çœ‹[CMake C/C++ç¼–è¯‘ç¯å¢ƒé…ç½®](https://sdutvincirobot.feishu.cn/wiki/Dosvw46BtiBBLEkTdO4cPOt8nVb))

https://github.com/tungchiahui/opencv\_cuda\_test

```bash

# å…‹éš†æºç 
git clone https://github.com/tungchiahui/opencv_cuda_test.git

# cdè¿›å·¥ç¨‹
cd opencv_cuda_test

# cdè¿›buildç›®å½•
cd build

# è¿›è¡Œcmakeç¼–è¯‘
cmake ..

# è¿›è¡Œmakeç¼–è¯‘+è¿›è¡Œmake installå®‰è£…(æœ€å¤§çº¿ç¨‹)
make install -j$(grep -c ^processor /proc/cpuinfo)

# ç»™äºˆè„šæœ¬æ‰§è¡Œæƒé™
sudo chmod a+x ../script/setup_vinci_emis.bash
sudo chmod a+x ../script/vinci_emis
sudo chmod a+x ../install/.setup.bash

# æ‰§è¡Œç¯å¢ƒè„šæœ¬
source ../script/setup_vinci_emis.bash

# æ‰§è¡Œdemo1äºŒè¿›åˆ¶ç¨‹åº
../script/vinci_emis run demo1
```

**æˆ–è€…**ç›´æ¥ç‚¹å‡»`Run`ï¼Œ`Start Debugging`æˆ–è€…`Run Without Debugging`éƒ½å¯ä»¥ã€‚(å·²ç»å°†launch.jsonåŠtask.jsonå…¨éƒ¨é…ç½®å¥½äº†)(å‘ç°bugåŠæ—¶callæˆ‘ï¼Œcallæˆ‘ä¹‹å‰ï¼Œè¯·çœ‹æœ€æ–°CMakeæ¨¡æ¿æ˜¯å¦å·²ç»ä¿®å¤äº†è¯¥bugï¼Œè‹¥æœªä¿®å¤ï¼Œå†callæˆ‘)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image58.webp)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image59.webp)

æµ‹è¯•å®Œæ¯•

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image60.webp)

### å¸¸è§é—®é¢˜

#### cmake -jxç¼–è¯‘é‡åˆ°operator!=æˆ–æƒé‡weightç›¸å…³é—®é¢˜

    Â Â è¿™ä¸ªé—®é¢˜å¤§å¤šå‘ç”Ÿåœ¨ubuntu20.04æˆ–è€…cuda12.2ä¸Šï¼Œç¼–è¯‘æ—¶æ·»åŠ contribåº“ï¼Œå¯¹åº”rosç‰ˆæœ¬ä¸ºnoeticï¼Œopencvç‰ˆæœ¬ä¸º4.8.0ã€‚

    Â Â githubä¸Šçš„è®¨è®ºï¼š

https://github.com/ros-perception/vision\_opencv/tree/kinetic

æ ¹æ®GitHubä¸­çš„è§£å†³æ–¹æ¡ˆï¼Œå°†å¯¹åº”æŠ¥é”™.hppæ–‡ä»¶ä¸­çš„ç›¸åº”ä»£ç ä¿®æ”¹ï¼ˆè‹¥åªæ˜¯æœ‰ä¸€äº›WARNINGé‚£å¤§å¯ä¸å¿…ä¿®æ”¹ï¼‰ï¼š

`114 opencv/modules/dnn/src/cuda4dnn/primitives/normalize_bbox.hpp ä¸­ if (weight != 1.0)`æ”¹ä¸º `if (weight != static_cast<T>(1.0))`

`124 opencv/modules/dnn/src/cuda4dnn/primitives/region.hpp ä¸­if (nms_iou_threshold > 0)`

æ”¹ä¸º `if (nms_iou_threshold > static_cast<T>(0))`

å†æ¬¡ç¼–è¯‘

```bash
make -j16
```

#### rosåŸè£…opencvä¸è‡ªå·±æ­å»ºçš„opencv\_cudaå†²çªçš„é—®é¢˜

åŸå› ï¼šrosè‡ªå¸¦çš„cv\_bridgeè‡ªåŠ¨é“¾æ¥rosçš„opencvï¼Œè€Œrosè‡ªå¸¦çš„opencvæ²¡æœ‰cudaåŠ é€Ÿï¼Œæ•…æŠ¥é”™ã€‚

Ubuntuå…è®¸å¤šç‰ˆæœ¬ opencvå…±å­˜ï¼Œä¸å»ºè®®ç›´æ¥å¸è½½opencvï¼Œå¯èƒ½å¯¼è‡´ç›¸å…³ç¯å¢ƒå¼‚å¸¸ã€‚

è§£å†³æ–¹æ¡ˆï¼šé¢å¤–é…ç½®ä¸€ä¸ªç‰ˆæœ¬çš„cv\_bridgeè¿›è¡Œopencvçš„é“¾æ¥

##### ROS1

è§£å†³æ–¹æ¡ˆï¼š

åœ¨https://github.com/ros-perception/vision\_opencv/tree/kineticä¸­ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„cv\_bridge

å…ˆå¯¹cv\_bridgeä¸­çš„CmakeList.txtè¿›è¡Œä¿®æ”¹ï¼ŒOpencvDIRå¯¹åº”è‡ªå·±çš„opencvå®‰è£…è·¯å¾„ï¼Œå¹¶å°†ä¿®æ”¹åŒ…åï¼š

```cmake
project(cv_bridge_480)#ä¿®æ”¹ä¸ºä½ çš„åŒ…åï¼ŒåŠ ä¸ªç‰ˆæœ¬å·å°±å¯ä»¥
set(OpenCV_DIR "/home/liu/opencv/opencv-4.8.0")
find_package(OpenCV 4.8.0 REQUIRED
  COMPONENTS
    opencv_core
    opencv_imgproc
    opencv_imgcodecs
  CONFIG
)

```

ä¿®æ”¹package.xmlä¸­çš„åŒ…å

```xml
  <name>cv_bridge_480</name>
```

æ­¤æ—¶å°†cv\_bridgeä½œä¸ºä¸€ä¸ªrosåŠŸèƒ½åŒ…è¿›è¡Œç¼–è¯‘ï¼ŒæŠŠåŒ…æ•´ä½“å¤åˆ¶è¿›ä½ å·¥ä½œç©ºé—´çš„srcä¸­è¿›è¡Œç¼–è¯‘

```xml
cp -rf ./cv_bridge ~/Yolo_Tensorrt_Demo/demo01_test/src
catkin_make
```

ç„¶åå°±å¯ä»¥å°†cv\_bridgeä½œä¸ºåŠŸèƒ½åŒ…ä½¿ç”¨äº†ï¼Œåœ¨ä½ åŸæœ¬çš„åŒ…CmakeListsä¸­æ·»åŠ 

```cmake
find_package(cv_bridge_480)
```

package.xml:

```xml
<build_depend>cv_bridge_480</build_depend>
<build_export_depend>cv_bridge_480</build_export_depend>
<exec_depend>cv_bridge_480</exec_depend>
```

åˆ°è¿™é‡Œè‡ªå®šä¹‰çš„cv\_bridgeåŒ…å°±é…å¥½äº†

å¦‚æœä½ è¿˜æƒ³åœ¨vscodeä¸­ä½¿ç”¨ä»£ç è¡¥å…¨ï¼Œæ·»åŠ è·¯å¾„ä¸€ç›´åˆ°cv\_bridgeåŒ…çš„includeå°±å¯ä»¥,æˆ‘è¿™é‡Œæ˜¯å¦ä¸€ä¸ªå·¥ä½œç©ºé—´ï¼Œéƒ½ä¸€æ ·ã€‚

```json
"includePath": [
    "/home/liu/cv_bridge_ws/src/cv_bridge/include",
    "/home/liu/cv_bridge_ws/src/cv_bridge"

]
```

##### ROS2

è¯¦è§[ROS2æœºå™¨äººæ“ä½œç³»ç»Ÿæ•™ç¨‹](/blog/ros2-tutorial/)ä¸­CV\_Bridgeç« èŠ‚.

#### opencvç¼–è¯‘çˆ†å†…å­˜çš„é—®é¢˜

è§£å†³æ–¹æ¡ˆï¼šé‡‡ç”¨å¤šæ ¸ç¼–è¯‘ï¼Œä¸€èˆ¬é‡‡ç”¨make -j16 ï¼ˆè¿™é‡Œ16æ˜¯CPUçº¿ç¨‹æ•°ï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œè°ƒæ•´ï¼‰å³å¯è§£å†³ï¼Œcpuçº¿ç¨‹è¶Šå¤šï¼Œç¼–è¯‘é€Ÿåº¦å°±è¶Šå¿«

##### windowsä¸­ï¼š

Mingwï¼š

```PowerShell
mingw64-make -j16
```

å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œmingwå¹¶ä¸æ”¯æŒwindowsä¸Šçš„opencv\_contribç¼–è¯‘ï¼Œè¿™åœ¨configureä¸€å¼€å§‹å°±ä¼šæç¤º

Vsï¼š

https://blog.csdn.net/hollyholly5/article/details/68062513

##### linuxä¸­ï¼š

```bash
make -j$(grep -c ^processor /proc/cpuinfo)
```

## Windows

è¯¦è§[ä½¿ç”¨OpenCVæ¨ç†Yolov8æ¨¡å‹ï¼ˆC++ï¼‰](https://sdutvincirobot.feishu.cn/wiki/Lm6XwbEJyi099ykqyV4cvirPn2f)

# YOLOç¯å¢ƒæ­å»º

## Windows

[æ·±åº¦å­¦ä¹ ç®—æ³•-Yoloç³»åˆ—](https://sdutvincirobot.feishu.cn/wiki/BD51wAe3riSF74kIJEUcywINnhv)

## Linux(WSL2ä¹Ÿèƒ½ç”¨)

# ROSç¯å¢ƒæ­å»º

[ROSæœºå™¨äººæ“ä½œç³»ç»Ÿæ•™ç¨‹](/blog/ros1-tutorial/)

[ROS2æœºå™¨äººæ“ä½œç³»ç»Ÿæ•™ç¨‹](/blog/ros2-tutorial/)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image61.webp)

ROS1å·²ç»EOFäº†ï¼Œå®˜æ–¹é¼“åŠ±ä½¿ç”¨ROS2.

## æ¨èçš„æ­å»ºç¯å¢ƒ

### æ–¹æ¡ˆä¸€(æ¨è)

***ROS1=Kubuntu20.04*****ï¼ˆNoeticä¸20.04åŒåŒå¯¿ç»ˆæ­£å¯ï¼‰**

***ROS2=Kubuntu22.04+***

**ä»ç„¶å»ºè®®ä½¿ç”¨22.04+Humble** Noeticï¼ŒHumbleï¼ŒJazzyè¿™å‡ ä¸ªLTSä¹‹é—´ä¸»è¦æœ‰ä»¥ä¸‹åŒºåˆ«:

1.  Noeticæ˜¯ROS1çš„LTSï¼ˆé•¿æ”¯æŒç‰ˆï¼‰ï¼Œå°†äº2025å¹´5æœˆ31æ—¥EOFå¯¿ç»ˆæ­£å¯ï¼Œè‡ªå¸¦ç®—æ³•æ¯”è¾ƒè€ï¼Œä¾èµ–äºå…¶ä»–éè‡ªå¸¦ç®—æ³•ï¼Œä½†æ˜¯æ•™ç¨‹æœ€å¤šï¼Œç¬¬ä¸‰æ–¹ç®—æ³•æ”¯æŒä¹Ÿæ¯”è¾ƒå¤šã€‚

2.  Humbleæ˜¯ROS2çš„ç¬¬ä¸€ä¸ªLTSï¼Œæ”¯æŒåˆ°2027å¹´5æœˆ31æ—¥æˆ–æµ·é¾ŸèŠ‚ï¼Œè‡ªå¸¦è€ç‰ˆGazebo Classicå’Œæ–°ç‰ˆIgntion Gazeboï¼ˆç‹¬ä¸€ä»½æ”¯æŒæ–°æ—§ä¸¤ä¸ªGazeboç‰ˆæœ¬æ¯”è¾ƒå¥½çš„ROSç‰ˆæœ¬ï¼‰ï¼Œé€‰æ‹©æ€§æ¯”è¾ƒå¹¿ï¼Œè‡ªå¸¦ç®—æ³•æ¯”è¾ƒæ–°ï¼Œæ•™ç¨‹æ­£åœ¨é€æ¸å¢å¤šä¸­ï¼Œç¬¬ä¸‰æ–¹ç®—æ³•ä¹Ÿåœ¨é€æ¸å¢å¤šä¸­ï¼Œå¾ˆå¤šç”¨ROS1çš„äººéƒ½åœ¨å¾€ROS2Humbleä¸Šè½¬ã€‚

3.  Jazzyæ˜¯ROS2ç¬¬äºŒä¸ªLTSï¼Œæ”¯æŒåˆ°2029å¹´5æœˆ31æ—¥æˆ–æµ·é¾ŸèŠ‚ï¼Œåœ¨Humbleçš„åŸºç¡€ä¸Šï¼Œå¤šäº†ä¸€äº›åŠŸèƒ½ï¼Œä½†åªæœ‰æ–°ç‰ˆGazebo Simï¼Œé’ˆå¯¹JazzyåšROS2æ•™ç¨‹çš„èµ„æ–™å¾ˆå°‘å¾ˆå°‘ï¼Œè€Œä¸”å¾ˆå¤šç¬¬ä¸‰æ–¹ç®—æ³•ä¹Ÿå¹¶æœªé’ˆå¯¹Jazzyåšç›¸åº”ç‰ˆæœ¬ï¼Œä½†æ˜¯Jazzyç›®å‰æ¥çœ‹å…¼å®¹å¾ˆå¤šHumbleçš„ç®—æ³•ä¸æ•™ç¨‹ï¼Œç›®å‰é™¤äº†æ–°ç‰ˆGazeboæ”¹åéœ€è¦æ”¹ä¸€äº›æ ‡è®°è¯­è¨€çš„æ ‡ç­¾å¤–ï¼Œæ²¡å‘ç°å…¶ä»–ä»£ç ä¸å…¼å®¹çš„åœ°æ–¹ã€‚

### æ–¹æ¡ˆäºŒ(ä¹Ÿæ˜¯æ¯”è¾ƒæ¨èï¼Œä½†æ˜¯è¦å¤šå­¦ä¸ªDocker)

1.  ç³»ç»Ÿå‘è¡Œç‰ˆ:Fedora KDEï¼ˆå­¦é•¿æ¯”è¾ƒæ¨èï¼Œé€‰ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„å…¶ä»–Linuxå‘è¡Œç‰ˆä¹Ÿè¡Œï¼‰

2.  ROS1Noeticå®‰è£…æ–¹å¼:Docker

3.  ROS2Humble/Jazzyå®‰è£…æ–¹å¼:Docker è¯¦çœ‹[Dockeræ•™ç¨‹](/blog/docker-tutorial/)

### æ–¹æ¡ˆä¸‰(å¯ä»¥ç”¨)

1.  ç³»ç»Ÿå‘è¡Œç‰ˆ:Kubuntu 22.04 Jammy LTS / Kubuntu 24.04 Jammy LTS

2.  ROS1Noeticå®‰è£…æ–¹å¼:è¥¿å—äº¤é€šå¤§ä½¬çš„ppa(è¯¦è§ä¸Šé¢ROSæ–‡æ¡£ä¸­ï¼Œä»…amd64(x86\_64))

3.  ROS2Humble / ROS2Jazzyå®‰è£…æ–¹å¼:å®˜æ–¹äºŒè¿›åˆ¶å®‰è£…æ–¹å¼(è¯¦è§ä¸Šé¢çš„ROS2æ–‡æ¡£ä¸­)

### æ–¹æ¡ˆå››(å¯ä»¥ç”¨)

1.  ç³»ç»Ÿå‘è¡Œç‰ˆ:Windows10åŠä»¥ä¸Š

2.  WSL2å‘è¡Œç‰ˆ:Ubuntu24.04 Noble LTS

3.  ROS1Noeticå®‰è£…æ–¹å¼:è¥¿å—äº¤é€šå¤§ä½¬çš„ppa(è¯¦è§ä¸Šé¢ROSæ–‡æ¡£ä¸­ï¼Œä»…amd64(x86\_64))

4.  ROS2Jazzyå®‰è£…æ–¹å¼:å®˜æ–¹äºŒè¿›åˆ¶å®‰è£…æ–¹å¼(è¯¦è§ä¸Šé¢çš„ROS2æ–‡æ¡£ä¸­)

# QTç¯å¢ƒæ­å»º

## å®‰è£…QT

### QT5

```Plain Text

# debianç³»
sudo apt install qt5-default          # åŸºç¡€å¼€å‘å·¥å…·ï¼ˆqmakeã€moc ç­‰ï¼‰
sudo apt install qtbase5-dev          # Qt5 æ ¸å¿ƒåº“å¼€å‘æ–‡ä»¶
sudo apt install qttools5-dev         # Qt5 å·¥å…·ï¼ˆQt Designerã€Linguist ç­‰ï¼‰

# çº¢å¸½ç³»

# å®‰è£… Qt5 æ ¸å¿ƒå¼€å‘åŒ…
sudo dnf install qt5-qtbase-devel      # Qt5 æ ¸å¿ƒåº“å¼€å‘æ–‡ä»¶
sudo dnf install qt5-qttools-devel     # Qt5 å·¥å…·ï¼ˆQt Designerã€Linguist ç­‰ï¼‰

# å®‰è£…å¸¸ç”¨æ¨¡å—ï¼ˆæŒ‰éœ€é€‰æ‹©ï¼‰
sudo dnf install \
  qt5-qtdeclarative-devel \           # Qt Quick
  qt5-qtsvg-devel \                   # SVG æ”¯æŒ
  qt5-qtwayland-devel \               # Wayland æ”¯æŒ
  qt5-qtwebengine-devel               # WebEngine æ”¯æŒ
```

### QT6

https://www.qt.io/product/qt6

```bash

# debianç³»
sudo apt install qt6-base-dev qt6-tools-dev

# çº¢å¸½ç³»
sudo dnf install qt6-qtbase-devel qt6-qttools-devel

sudo dnf install qt6-qtdeclarative-devel qt6-qtsvg-devel qt6-qtwayland-devel qt6-qt5compat-devel qt6-qtwebsockets-devel
```

## VScodeç¯å¢ƒé…ç½®

ä¸»è¦æ˜¯CMakeæ­å»ºQT5/QT6å¼€å‘ç¯å¢ƒï¼Œè¯¦çœ‹[CMake C/C++ç¼–è¯‘ç¯å¢ƒé…ç½®](https://sdutvincirobot.feishu.cn/wiki/Dosvw46BtiBBLEkTdO4cPOt8nVb)

## QT Designerç”Ÿæˆ.ui

ä¸»è¦æ˜¯ç”¨ä¸‹é¢è¿™ä¸ªè½¯ä»¶è¿›è¡Œå›¾å½¢åŒ–è®¾è®¡ï¼Œç„¶åç”Ÿæˆ`.ui`æ–‡ä»¶å†è½¬åŒ–ä¸º`.h`æ–‡ä»¶ç”¨äºC/C++å·¥ç¨‹ã€‚

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image62.webp)

æ¯”å¦‚æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªHelloworldçª—å£ï¼Œæ‰“å¼€QT Designerä¹‹åï¼Œé€‰æ‹©åˆ›å»ºWidgetã€‚

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image63.webp)

æ‹–è¿›æ¥ï¼Œè¾“å…¥Hello Worldï¼

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image64.webp)

å¯ä»¥è°ƒå­—ä½“å¤§å°ã€‚

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image65.webp)

å¯ä»¥ä¿®æ”¹objectNameï¼Œå³æ˜¯C++ä»£ç é‡Œè°ƒç”¨çš„ç±»åç§°ã€‚

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image66.webp)

æœ€åä¿å­˜.uiæ–‡ä»¶ï¼Œä¸€èˆ¬æ˜¯ä¿å­˜åœ¨åŠŸèƒ½åŒ…ä¸‹çš„formæ–‡ä»¶å¤¹ä¸‹ã€‚

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image67.webp)

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image68.webp)

## è°ƒç”¨.uiç±»å¹¶ç¼–è¯‘è¿è¡Œ

é¦–å…ˆå…ˆç¡®ä¿ä½ çš„VScode+CMakeé…ç½®æ­£ç¡®ã€‚

ç„¶åå†`cmake ..`ï¼Œæ¥ç€`make install`ï¼Œæ­¤æ—¶QT\_Projects/QT6/QT6\_Template/build/src/QT6TEST/ç›®å½•ä¸‹ä¼šå‡ºç°`.h`æ–‡ä»¶ã€‚

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image69.webp)

ç„¶åå¯ä»¥åœ¨ä»£ç ä¸­å¼•ç”¨è¿™ä¸ª.hã€‚

æ¥ç€å®ç°è‡ªå·±çš„ä»£ç åŠŸèƒ½å°±å¯ä»¥äº†ã€‚

```cpp
#include "QT6TEST/inc/qt6_test.hpp"
#include <QApplication>
#include <QWidget>
#include "ui_mywidget.h"

int qt6_test(int argc,char **argv)
{
    QApplication app(argc, argv);

    // åˆ›å»ºä¸»çª—å£å’Œ UI å¯¹è±¡
    QWidget mainWindow;
    Ui::MyWidget ui;        // Ui å‘½åç©ºé—´ä¸­çš„ç±»åä¸ .ui æ–‡ä»¶ä¸­çš„ class å±æ€§ä¸€è‡´
    ui.setupUi(&mainWindow);

    // è®¾ç½®çª—å£æ ‡é¢˜
    mainWindow.setWindowTitle("Hello Qt6!");

    // æ˜¾ç¤ºçª—å£
    mainWindow.show();

    return app.exec();
}
```

![](https://cdn.tungchiahui.cn/tungwebsite/assets/images/2023/12/10/image70.webp)

æˆ‘è¿™é‡Œæœ‰ä¸ªé…ç½®å¥½çš„QT6ç¯å¢ƒï¼Œä½ å¯ä»¥cloneä¸‹æ¥ä½¿ç”¨ã€‚

https://github.com/tungchiahui/QT\_Projects/tree/main/QT6/QT6\_Template

# Dockerç¯å¢ƒæ­å»º

[Dockeræ•™ç¨‹](/blog/docker-tutorial/)
