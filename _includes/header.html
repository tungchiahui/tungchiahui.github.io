<header class="site-header">

  <!-- 内容层 -->
  <div class="header-content">
    <h1><a href="{{ '/' | relative_url }}">{{ site.title }}</a></h1>
    <nav>
      <ul>
        <li><a href="{{ '/' | relative_url }}">首页</a></li>
        <li><a href="{{ '/blog/' | relative_url }}">博客</a></li>
        <li><a href="{{ '/cv/' | relative_url }}">简历</a></li>
        <li><a href="{{ '/friends/' | relative_url }}">友链</a></li>
        <li><a href="{{ '/about/' | relative_url }}">关于</a></li>
      </ul>
    </nav>
  </div>
</header>


<script>
document.addEventListener("DOMContentLoaded", function() {
  const video = document.getElementById("header-video");

  // 支持图床和本地路径
  const videoSrc = "{% if site.header_video contains '://' %}{{ site.header_video }}{% else %}{{ site.header_video | relative_url }}{% endif %}";

  if (!videoSrc) return; // 没设置视频就跳过

  // 尝试加载视频
  video.src = videoSrc;
  video.load();

  // 视频能播放时显示视频
  video.addEventListener("canplaythrough", () => {
    video.style.display = "block"; // 显示视频
    video.play().catch(() => {}); // 自动播放（防止浏览器限制）
  });

  // 如果视频加载失败就隐藏（保留背景图）
  video.addEventListener("error", () => {
    video.style.display = "none";
  });
});
</script>